---
sidebar_position: 19
title: "Aula 19: Testes e Qualidade"
description: "Jest e React Native Testing Library â€” testes unitÃ¡rios e de componentes."
---

# Aula 19: Testes e Qualidade

:::info ðŸ”€ Branch da Aula
Esta aula refere-se Ã  branch: **`aula-19`**
```bash
git checkout aula-19
```
:::

:::caution ðŸš§ ConteÃºdo Prospectivo
Esta branch ainda nÃ£o possui cÃ³digo implementado.
:::

## ðŸ“– Conceito

Testes garantem que o cÃ³digo funciona conforme esperado. Usamos **Jest** (test runner) e **React Native Testing Library** (render e queries para componentes).

## ðŸ’» CÃ³digo de ReferÃªncia

```tsx title="__tests__/StitchButton.test.tsx"
import { render, fireEvent } from '@testing-library/react-native';
import StitchButton from '../components/StitchButton';

describe('StitchButton', () => {
    it('renders title correctly', () => {
        const { getByText } = render(
            <StitchButton title="Entrar" onPress={() => {}} />
        );
        expect(getByText('Entrar')).toBeTruthy();
    });

    it('calls onPress when pressed', () => {
        const onPress = jest.fn();
        const { getByText } = render(
            <StitchButton title="Entrar" onPress={onPress} />
        );
        fireEvent.press(getByText('Entrar'));
        expect(onPress).toHaveBeenCalledTimes(1);
    });

    it('shows ActivityIndicator when loading', () => {
        const { queryByText, UNSAFE_getByType } = render(
            <StitchButton title="Entrar" onPress={() => {}} loading />
        );
        expect(queryByText('Entrar')).toBeNull();
    });
});
```

## ðŸ’» MÃ£o na Massa

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="ex1" label="ExercÃ­cio 1 â€” FixaÃ§Ã£o" default>

Execute `npx jest` e verifique que todos os testes passam.

  </TabItem>
  <TabItem value="ex2" label="ExercÃ­cio 2 â€” AplicaÃ§Ã£o">

Crie testes para o `QuizFeedbackModal`: teste que exibe "Correto!" quando `isCorrect=true` e "Incorreto" quando `false`.

  </TabItem>
  <TabItem value="ex3" label="ExercÃ­cio 3 â€” Desafio">

Teste a lÃ³gica do `apiClient.auth.signIn` mockando o `fetch` global. Verifique que o token Ã© salvo no AsyncStorage.

  </TabItem>
</Tabs>
