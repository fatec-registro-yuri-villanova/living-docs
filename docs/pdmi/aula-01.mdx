---
sidebar_position: 1
title: "Aula 01: Setup Expo e Fundamentos TS"
description: "Cria√ß√£o do projeto com Expo, componentes b√°sicos (View, Text, TextInput) e fundamentos de TypeScript."
---

# Aula 01: Setup Expo e Fundamentos TS

:::info üîÄ Branch da Aula
Esta aula refere-se √† branch: **`aula-01`**
```bash
git checkout aula-01
```
:::

## üìñ Conceito

O React Native permite criar apps m√≥veis nativos com JavaScript/TypeScript. O **Expo** simplifica o setup, build e deploy. Usamos **Expo Router** para navega√ß√£o baseada em arquivos ‚Äî cada arquivo na pasta `app/` vira uma rota.

### Arquivos da Branch

| Arquivo | Descri√ß√£o |
|---------|-----------|
| `app/index.tsx` | Tela inicial (Splash) |
| `app/login.tsx` | Tela de login com formul√°rio |
| `app/register.tsx` | Tela de registro |
| `app/_layout.tsx` | Layout raiz com Stack navigator |
| `constants/Colors.ts` | Tokens de cor (light/dark) |
| `basics/FundamentosTS.ts` | 130 linhas ‚Äî 8 t√≥picos fundamentais |

## üíª Fundamentos de TypeScript

O TypeScript √© a base do desenvolvimento seguro em React Native. Aqui est√£o os conceitos fundamentais que usaremos:

### 1. Const e Let ‚Äî Vari√°veis e Constantes

```typescript
// const: vari√°vel IMUT√ÅVEL (equivalente ao val)
const pi = 3.14;
const nomeDoCurso = "Merge Skills: React Native"; // Infer√™ncia de tipo

// let: vari√°vel MUT√ÅVEL (equivalente ao var)
let count = 0;
count = 1; // Permitido
```

### 2. Tipagem e Null Safety

```typescript
// Tipagem expl√≠cita
let nome: string = "Jo√£o";
let idade: number = 25;
let aut√™nticado: boolean = true;

// Opcional Chaining `?.` (Safe Call)
const usuario = { profile: { name: "Yuri" } };
const bio = usuario.profile?.bio; // N√£o quebra se bio for undefined

// Nullish Coalescing `??` (Elvis Operator)
const github = user.github ?? "N√£o Cadastrado";
```

### 3. Arrow Functions e Par√¢metros

```typescript
// Fun√ß√£o tradicional
function saudacao(nome: string) {
    return `Ol√°, ${nome}`;
}

// Arrow Function (Single-expression)
const somar = (a: number, b: number) => a + b;

// Par√¢metro com valor padr√£o
const saudar = (nome: string, msg: string = "Ol√°") => `${msg}, ${nome}`;
```

### 4. Arrays e Map/Filter

```typescript
// Arrays robustos
const tecnologias: string[] = ["React Native", "Expo", "TypeScript"];

// Pipeline funcional
tecnologias
    .filter(tech => tech.length > 4)
    .map(tech => tech.toUpperCase())
    .forEach(tech => console.log(tech));
```

### 5. Interfaces e Types (OOP Moderno)

```typescript
// Define o contrato de um objeto
interface User {
    id: string;
    name: string;
    email: string;
    bio?: string; // Opcional
}

// Implementa√ß√£o do contrato
const meuPerfil: User = {
    id: "1",
    name: "Estudante",
    email: "contato@merge.com"
};
```

### 6. Destructuring e Spread

```typescript
// Destrutura√ß√£o de objetos
const { name, email } = meuPerfil;

// Spread operator (C√≥pia e merge)
const novoPerfil = { ...meuPerfil, name: "Novo Nome" };
const listaCompleta = [...tecnologias, "Next.js"];
```

### 7. Classes

```typescript
class Aluno {
    constructor(public nome: string, public nota: number) {}

    apresentar() {
        console.log(`Ol√°, meu nome √© ${this.nome}`);
    }
}
```

### 8. Import e Export

```typescript
// Exportando um componente ou utilit√°rio
export const API_URL = "https://api.merge.com";

// Importando
import { API_URL } from "./config";
```


### Componentes B√°sicos

| React Native | Web (equivalente) |
|:-------------|:-------------------|
| `<View>` | `<div>` |
| `<Text>` | `<p>` / `<span>` |
| `<TextInput>` | `<input>` |
| `<TouchableOpacity>` | `<button>` |
| `<StyleSheet>` | CSS-in-JS |

## üíª C√≥digo de Refer√™ncia

### Login com Formul√°rio e Estado

```tsx title="app/login.tsx"
import React, { useState } from 'react';
import { View, Text, StyleSheet, TextInput, TouchableOpacity,
         Alert, ActivityIndicator } from 'react-native';
import { useRouter } from 'expo-router';
import { Ionicons } from '@expo/vector-icons';
import { apiClient } from '../lib/api';

export default function LoginScreen() {
    const [email, setEmail] = useState('');
    const [password, setPassword] = useState('');
    const [loading, setLoading] = useState(false);
    const router = useRouter();

    async function handleLogin() {
        setLoading(true);
        try {
            await apiClient.auth.signIn(email, password);
            router.replace('/courses');
        } catch (error: any) {
            Alert.alert('Erro ao entrar',
                error.message || 'Verifique suas credenciais');
        } finally {
            setLoading(false);
        }
    }

    return (
        <View style={styles.container}>
            <Text style={styles.header}>Merge Skills</Text>

            <View style={styles.inputContainer}>
                <Ionicons name="mail-outline" size={20}
                          color="#666" style={styles.icon} />
                <TextInput
                    style={styles.input}
                    placeholder="E-mail"
                    value={email}
                    onChangeText={setEmail}
                    keyboardType="email-address"
                    autoCapitalize="none"
                />
            </View>

            <View style={styles.inputContainer}>
                <Ionicons name="lock-closed-outline" size={20}
                          color="#666" style={styles.icon} />
                <TextInput
                    style={styles.input}
                    placeholder="Senha"
                    value={password}
                    onChangeText={setPassword}
                    secureTextEntry
                />
            </View>

            <TouchableOpacity
                style={styles.button}
                onPress={handleLogin}
                disabled={loading}>
                {loading
                    ? <ActivityIndicator color="#fff" />
                    : <Text style={styles.buttonText}>Entrar</Text>}
            </TouchableOpacity>

            <TouchableOpacity onPress={() => router.push('/register')}>
                <Text style={styles.linkText}>Criar nova conta</Text>
            </TouchableOpacity>
        </View>
    );
}
```

### Cliente API ‚Äî api.ts

```ts title="lib/api.ts"
export const API_CONFIG = {
    BASE_URL: 'https://lddm-api-inicial-1.onrender.com',
    SUPABASE_KEY: 'eyJhbGciOiJIUzI1NiIsInR5c...',
};

export const apiClient = {
    async fetch(endpoint: string, options: RequestInit = {}) {
        const url = endpoint.startsWith('http')
            ? endpoint
            : `${API_CONFIG.BASE_URL}${endpoint}`;

        const headers = {
            'Content-Type': 'application/json',
            'apikey': API_CONFIG.SUPABASE_KEY,
            'Authorization': `Bearer ${API_CONFIG.SUPABASE_KEY}`,
            ...options.headers,
        };

        const response = await fetch(url, { ...options, headers });
        if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.message || `Erro HTTP: ${response.status}`);
        }
        return await response.json();
    },

    auth: {
        async signIn(email: string, pass: string) {
            return apiClient.fetch('/auth/login', {
                method: 'POST',
                body: JSON.stringify({ email, password: pass }),
            });
        },
        async signUp(name: string, email: string, pass: string) {
            return apiClient.fetch('/auth/register', {
                method: 'POST',
                body: JSON.stringify({ name, email, password: pass }),
            });
        }
    },
};
```

## üíª M√£o na Massa

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="ex1" label="Exerc√≠cio 1 ‚Äî TypeScript">

### Praticando TS

No arquivo `app/index.tsx`, antes do export, crie:
1. Uma interface `Professor` com `nome` e `materia`.
2. Um array de professores.
3. Use `map` para renderizar apenas os nomes no console.

  </TabItem>
  <TabItem value="ex2" label="Exerc√≠cio 2 ‚Äî Aplica√ß√£o">

### Estilize com o tema escuro

Mude o `backgroundColor` do container de `'#fff'` para `'#0F0F0F'` e os textos para cores claras. Compare o resultado visual com a vers√£o original.

  </TabItem>
  <TabItem value="ex3" label="Exerc√≠cio 3 ‚Äî Desafio">

### Crie a tela de Registro

Crie `app/register.tsx` com os campos Nome, Email e Senha. Ao submeter, chame `apiClient.auth.signUp(name, email, password)`. Use `router.back()` para voltar ao login ap√≥s sucesso.

  </TabItem>
</Tabs>
