---
sidebar_position: 18
title: "Aula 18: NotificaÃ§Ãµes Push"
description: "Expo Notifications para push notifications, tokens e agendamento local."
---

# Aula 18: NotificaÃ§Ãµes Push

:::info ðŸ”€ Branch da Aula
Esta aula refere-se Ã  branch: **`aula-18`**
```bash
git checkout aula-18
```
:::

:::caution ðŸš§ ConteÃºdo Prospectivo
Esta branch ainda nÃ£o possui cÃ³digo implementado.
:::

## ðŸ“– Conceito

NotificaÃ§Ãµes push mantÃªm o engajamento. Usamos **expo-notifications** para solicitar permissÃ£o, registrar o token no servidor e receber push notifications.

## ðŸ’» CÃ³digo de ReferÃªncia

```tsx title="lib/notifications.ts"
import * as Notifications from 'expo-notifications';
import { Platform } from 'react-native';

export async function registerForPushNotifications() {
    const { status } = await Notifications.requestPermissionsAsync();
    if (status !== 'granted') return null;

    const token = (await Notifications.getExpoPushTokenAsync()).data;
    // Envia para o backend
    await apiClient.fetch('/users/me/push-token', {
        method: 'PUT',
        body: JSON.stringify({ token, platform: Platform.OS }),
    });
    return token;
}
```

## ðŸ’» MÃ£o na Massa

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="ex1" label="ExercÃ­cio 1 â€” FixaÃ§Ã£o" default>

Chame `registerForPushNotifications()` no AuthProvider apÃ³s login bem-sucedido.

  </TabItem>
  <TabItem value="ex2" label="ExercÃ­cio 2 â€” AplicaÃ§Ã£o">

Agende uma notificaÃ§Ã£o local diÃ¡ria lembrando o aluno de manter o streak.

  </TabItem>
  <TabItem value="ex3" label="ExercÃ­cio 3 â€” Desafio">

Receba push notifications com deep link â€” ao tocar, abra a tela do quiz correspondente.

  </TabItem>
</Tabs>
