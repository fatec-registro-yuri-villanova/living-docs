---
sidebar_position: 10
title: "Aula 10: Quiz â€” LÃ³gica e Estado"
description: "ImplementaÃ§Ã£o do quiz com estado local, temporizador e controle de respostas."
---

# Aula 10: Quiz â€” LÃ³gica e Estado

:::info ðŸ”€ Branch da Aula
Esta aula refere-se Ã  branch: **`aula-10`**
```bash
git checkout aula-10
```
:::

:::caution ðŸš§ ConteÃºdo Prospectivo
Esta branch ainda nÃ£o possui cÃ³digo implementado.
:::

## ðŸ“– Conceito

O **Quiz** Ã© o coraÃ§Ã£o do MergeSkills. Cada pergunta possui 4 alternativas e feedback visual instantÃ¢neo. O estado gerencia: pergunta atual, resposta selecionada, pontuaÃ§Ã£o e progresso.

## ðŸ’» CÃ³digo de ReferÃªncia

### Modelo de Quiz

```tsx title="types/quiz.ts"
interface QuizQuestion {
    id: string;
    text: string;
    options: string[];
    correctIndex: number;
    explanation: string;
}

interface QuizState {
    questions: QuizQuestion[];
    currentIndex: number;
    score: number;
    selectedAnswer: number | null;
    isRevealed: boolean;
}
```

### QuizScreen com estado

```tsx title="app/quiz.tsx"
export default function QuizScreen() {
    const [state, setState] = useState<QuizState>({
        questions: [], currentIndex: 0,
        score: 0, selectedAnswer: null, isRevealed: false
    });

    const current = state.questions[state.currentIndex];

    function handleAnswer(index: number) {
        if (state.isRevealed) return;
        const isCorrect = index === current.correctIndex;
        setState(prev => ({
            ...prev,
            selectedAnswer: index,
            isRevealed: true,
            score: isCorrect ? prev.score + 1 : prev.score
        }));
    }

    function handleNext() {
        setState(prev => ({
            ...prev,
            currentIndex: prev.currentIndex + 1,
            selectedAnswer: null,
            isRevealed: false
        }));
    }

    return (/* UI com opÃ§Ãµes coloridas baseado em isRevealed */);
}
```

## ðŸ’» MÃ£o na Massa

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="ex1" label="ExercÃ­cio 1 â€” FixaÃ§Ã£o" default>

### Renderize as 4 opÃ§Ãµes

Use `.map()` para renderizar cada opÃ§Ã£o como um `TouchableOpacity`. Mude a cor para verde (correto) ou vermelho (errado) quando `isRevealed === true`.

  </TabItem>
  <TabItem value="ex2" label="ExercÃ­cio 2 â€” AplicaÃ§Ã£o">

### Barra de progresso

Adicione uma barra de progresso `(currentIndex + 1) / totalQuestions * 100%` no topo da tela.

  </TabItem>
  <TabItem value="ex3" label="ExercÃ­cio 3 â€” Desafio">

### Tela de resultado

Ao finalizar todas as perguntas, navegue para uma `ResultScreen` exibindo a nota, percentual e botÃ£o "Refazer Quiz".

  </TabItem>
</Tabs>
