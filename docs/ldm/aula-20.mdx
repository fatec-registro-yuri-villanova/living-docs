---
sidebar_position: 20
title: "Aula 20: ProduÃ§Ã£o e Monitoramento"
description: "Deploy final, monitoramento, health checks e preparaÃ§Ã£o para produÃ§Ã£o."
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Aula 20: ProduÃ§Ã£o e Monitoramento
:::info ğŸ”€ Branch da Aula
**`aula-20`** â€” `git checkout aula-20`
:::
:::caution ğŸš§ ConteÃºdo Prospectivo
Esta branch ainda nÃ£o possui cÃ³digo implementado.
:::
## ğŸ“– Conceito
Preparar para produÃ§Ã£o envolve: variÃ¡veis de ambiente seguras, health checks, logging estruturado, CORS e rate limiting.
## ğŸ’» CÃ³digo de ReferÃªncia
```kotlin title="server/.../plugins/Production.kt"
fun Application.configureProduction() {
    install(CORS) {
        allowHost("mergeskills.com")
        allowHeader(HttpHeaders.ContentType)
        allowHeader(HttpHeaders.Authorization)
    }

    install(RateLimit) {
        register(RateLimitName("api")) {
            rateLimiter(limit = 100, refillPeriod = 1.minutes)
        }
    }
}
```
## ğŸ’» MÃ£o na Massa

<Tabs>
  <TabItem value="ex1" label="ExercÃ­cio 1 â€” FixaÃ§Ã£o" default>
Configure CORS para aceitar requisiÃ§Ãµes dos apps mobile e desktop.
  </TabItem>
  <TabItem value="ex2" label="ExercÃ­cio 2 â€” AplicaÃ§Ã£o">
Implemente um endpoint `/api/readiness` que verifica conexÃ£o com Supabase antes de responder "ready".
  </TabItem>
  <TabItem value="ex3" label="ExercÃ­cio 3 â€” Desafio">
Configure monitoramento com logs estruturados (JSON), mÃ©tricas de latÃªncia por endpoint e alertas de erro no deploy.
  </TabItem>
</Tabs>
